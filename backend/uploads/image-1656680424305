from PIL import Image
import sys
import os

def main():
        filename = sys.argv[1]        
        image = Image.open(filename)

        #Image dimensions
        width, height = image.size
        new_width = 1200
        new_height = 700

        #Aspect ratios
        aspectRatio = width / height
        newAspectRatio = new_width / new_height
        print(aspectRatio,newAspectRatio)
        #If the image is vertical
        if(aspectRatio > newAspectRatio):
            left = (width - height*newAspectRatio)/2 
            top = 0
            right = (width + height*newAspectRatio)/2
            bottom = height
        #for horiztional images
        else:
            print("else")
            left = 0
            top = (height - width / newAspectRatio)/2
            right = width
            bottom = (height + width / newAspectRatio)/2

        #the crop box
        box = (left, top, right, bottom)

        #crop image
        crop = image.crop(box)
        new_size = (new_width,new_height)
        cropped_image = crop.resize(new_size, Image.ANTIALIAS)

        #remove old file
        os.remove(filename)
        path = "./Desktop/{}.jpg".format("epic_file")
        cropped_image.save(path,quality=85)

main()
